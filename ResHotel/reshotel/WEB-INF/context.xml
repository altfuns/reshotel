<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns="http://www.springframework.org/schema/beans"
    xsi:schemaLocation="
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.0.xsd" >

    <bean
        id="dataSource"
        class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close" >

        <property
            name="driverClassName"
            value="${jdbc.driverClassName}" />

        <property
            name="url"
            value="${jdbc.url}" />

        <property
            name="username"
            value="${jdbc.username}" />

        <property
            name="password"
            value="${jdbc.password}" />
    </bean>

    <bean
        id="sessionFactory"
        class="org.springframework.orm.hibernate3.LocalSessionFactoryBean" >

        <property
            name="dataSource"
            ref="dataSource" />

        <property
            name="configurationClass"
            value="org.hibernate.cfg.AnnotationConfiguration" />

        <property name="configLocation" >

            <value>
classpath:hibernate.cfg.xml
            </value>
        </property>
    </bean>

    <bean
        id="transactionManager"
        class="org.springframework.orm.hibernate3.HibernateTransactionManager" >

        <property
            name="sessionFactory"
            ref="sessionFactory" />
    </bean>

    <bean
        id="clienteDAO"
        class="cr.ac.una.daw.reshotel.data.ClienteDAO" >

        <property name="sessionFactory" >

            <ref local="sessionFactory" />
        </property>
    </bean>

    <bean
        id="clienteRepository"
        class="cr.ac.una.daw.reshotel.data.ClienteRepositoryDAOImpl" >

        <constructor-arg>

            <ref bean="clienteDAO" />
        </constructor-arg>
    </bean>

    <bean
        id="clienteManager"
        class="cr.ac.una.daw.reshotel.service.SimpleClienteManager" >

        <property name="repository" >

            <ref bean="clienteRepository" />
        </property>
    </bean>

    <bean
        id="habitacionDAO"
        class="cr.ac.una.daw.reshotel.data.HabitacionDAO" >

        <property name="sessionFactory" >

            <ref local="sessionFactory" />
        </property>
    </bean>

    <bean
        id="habitacionRepository"
        class="cr.ac.una.daw.reshotel.data.HabitacionRepositoryDAOImpl" >

        <constructor-arg>

            <ref bean="habitacionDAO" />
        </constructor-arg>
    </bean>

    <bean
        id="habitacionManager"
        class="cr.ac.una.daw.reshotel.service.SimpleHabitacionManager" >

        <property name="repository" >

            <ref bean="habitacionRepository" />
        </property>
    </bean>

    <bean
        id="hotelDAO"
        class="cr.ac.una.daw.reshotel.data.HotelDAO" >

        <property name="sessionFactory" >

            <ref local="sessionFactory" />
        </property>
    </bean>

    <bean
        id="hotelRepository"
        class="cr.ac.una.daw.reshotel.data.HotelRepositoryDAOImpl" >

        <constructor-arg>

            <ref bean="hotelDAO" />
        </constructor-arg>
    </bean>

    <bean
        id="hotelManager"
        class="cr.ac.una.daw.reshotel.service.SimpleHotelManager" >

        <property name="repository" >

            <ref bean="hotelRepository" />
        </property>
    </bean>

    <bean
        id="reservacionDAO"
        class="cr.ac.una.daw.reshotel.data.ReservacionDAO" >

        <property name="sessionFactory" >

            <ref local="sessionFactory" />
        </property>
    </bean>

    <bean
        id="reservacionRepository"
        class="cr.ac.una.daw.reshotel.data.ReservacionRepositoryDAOImpl" >

        <constructor-arg>

            <ref bean="reservacionDAO" />
        </constructor-arg>

        <constructor-arg>

            <ref bean="habitacionDAO" />
        </constructor-arg>
    </bean>

    <bean
        id="reservacionManager"
        class="cr.ac.una.daw.reshotel.service.SimpleReservacionManager" >

        <property name="repository" >

            <ref bean="reservacionRepository" />
        </property>
    </bean>

    <bean
        id="ubicacionDAO"
        class="cr.ac.una.daw.reshotel.data.UbicacionDAO" >

        <property name="sessionFactory" >

            <ref local="sessionFactory" />
        </property>
    </bean>

    <bean
        id="ubicacionRepository"
        class="cr.ac.una.daw.reshotel.data.UbicacionRepositoryDAOImpl" >

        <constructor-arg>

            <ref bean="ubicacionDAO" />
        </constructor-arg>
    </bean>

    <bean
        id="ubicacionManager"
        class="cr.ac.una.daw.reshotel.service.SimpleUbicacionManager" >

        <property name="repository" >

            <ref bean="ubicacionRepository" />
        </property>
    </bean>

    <context:property-placeholder location="WEB-INF/jdbc.properties" />

</beans>